

#v3.9# (2017.10)


## 基本信息

* 本次发布概述
 - 同步发布扩展模块，打包更轻松，扩展更灵活！
 - 添加：伪静态部署
 - 同步发布Nodejs辅助系统，打造Web应用生态圈！

* 基本信息：
 - 发布日期：与国同庆：2017.10.05,(2017-10)
 - rar-大小: [core]1.26 MB, [full]3.59 MB(core+vendor)


## 更新事项

* REST-API：发布正式版

* 同步发布扩展模块：
 -> 打包更轻松，扩展更灵活！

* 同步发布Nodejs辅助系统，打造Web应用生态圈！

* 图标：更新图标组件，后台菜单添加自定义图标设置

* 增加：伪静态部署

* 增强：扩展缓存

* 改善权限功能
 - 改善：权限判断，设置
 - 增加：权限继承

* 增加：短链接接口(内部使用)

* 调整模板，后台部分UI，使用bootstrap模态框

* 修正：
 -> 分页跳转
 -> 一些已知bug


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；


## 提示/参考

* Rewrite配置(Apache/Nginx/iis7+)
 -> http://txjia.com/imcat/home.php?faqs.2017-9h-4bq1

* idea：贴心猫(Imcat)开发者自白书
 -> http://txjia.com/imcat/home.php?faqs.2017-9a-f3a1

* 贴心扩展[Extend]
 -> http://imcat.txjia.com/dev.php?extend

* Nodejs微框架
 -> http://txjia.com/peace/wenode.htm


#v3.8# (2017.07)


## 基本信息

* 背景
 - 本次发布，一方面是补全v3.7`拖欠`下来的工作 --- 如`qq登陆,移动版英文文档`
 - 另一方面，充分体现本系统的:`不纠结于OOP，不纠结于MVC，不纠结于设计模式，自由奔放！`的设计思想!

* 基本信息：
 - 发布日期：2017.07.08,(2017-07-22)
 - rar-大小: 3.35 MB


## 更新事项

* 增加：移动版-英文文档
* 增加：qq登陆
* 增加：url别名指向配置
* 增加：REST-API(Alpha)

* 增加：模板显示控制功能
 -> 体现：不纠结于OOP，不纠结于MVC，不纠结于设计模式，自由奔放！的设计思想!
 -> 增加：`控制器-操作` 模式扩展模板和显示数据:
 -> 见：http://imcat.txjia.com/doc.php?ctest
 -> 增加：`mkv路由-模板` 模式直接显示数据，无需复杂的config配置:
 -> 见：http://imcat.txjia.com/doc.php?umod

* 增加：站务笔记
 -> 其实就是一个管理员自己在后台给自己留言或作笔记的小功能，之前在asp系统中出现过。

* 优化：
 -> 移动配置文件夹 root/cfgs -=>移动到 root/cfgs (注意测试 - setup, update, upload)
 -> 优化 js/css 加载
 -> 增强代码调试功能
 -> 优化 验证码类
 -> 优化 后台移动版

* 精简/优化：不刻意兼容php5.2（但目前还是可正常使用php5.2）

* 修正：
 -> 木马工具中，对eval的相关判断
 -> 一些已知bug

* 其他：
 -> 完善：中英文文档，问答系统
 -> 优化：代码细节(include)
 -> 经典版首页 跳转到 手机版首页


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；


#v3.7# (2017.04)


## 基本信息

* 背景
 - v3.6发布后，充分体现了核心功能的稳定性，和系统优秀的扩展性能；
 - 针对系统会员注册/登录，模板展示等应用和前端的薄弱环节再前进一步；
 - 本次更新：注重 细节和应用 以及移动端自动适配；
 - 提示：只演示功能，和相关示范调用；具体模板美化请用户再修改调整。

* 基本信息：
 - 发布日期：2017.04.30,(2017-05-07)
 - rar-大小: 3.54 MB


## 更新事项

* 增强：会员:注册/登录相关功能 
 - 增加：注册邮件激活：
 - 增加：短信验证码注册：
 - 注意：微信扫码登录（之前就有）

* 增强：移动版体验
 - 动态页:自动移动端适配
 - 静态页:js移动适配跳转
 - 工具提示页:响应式设备适配

* 站群同步/云更新/授权更新 
 - 已初步规划…待实际应用上场！

* 优化：代码细节：
 - 模板，默认后缀改为 `.htm`
 - 删除一批php调试代码
 - 删除一批js调试代码
 - 检查一批：$_GET / $_POST 的安全过滤 (注，一般不直接使用) 
 - 代码细节，优化调整

* 调整logo/sinc目录
 - /views/base/assets/aimg/ 相关logo都移动到 /views/base/assets/logo/ 目录
 - /root/cfgs/sinc/ 相关logo都移动到 /views/base/stpl/ 目录
 - 让运营者更便于管理替换自己的图标

* 增加：增加/丰富 模板调用演示
 - 从不用到使用模板，一步一步diy
 - 动态页/静态页:自动移动端适配

* 修正：
 - 翻页跳转错误
 - 模板缓存开关 无效问题

* 完善：
 - 中英文文档
 - 问答系统（资料）


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；


## 开发感悟

繁简纠结平衡

* 多语言
 - 多语言一考虑，系统立马繁(复)杂了许多
 - 模板，类库，js等地方，有关汉字的地方，都要用多语言标签/函数

* 模板继承
 - 为了共用一些区块，减少些冗余代码，会相应的增加模板的复杂度，变得难以分析…

* ftp存储/Sphinx搜索
 - 增加了与外界的依赖程度，但真正使用的场合，和用户，应该会比较少…

* 精简别名函数
 - 增加了与其他系统函数重名的机会
 - 增加了基本类库对别名函数的依赖


#v3.6# (2017.03)


## 更新背景

* 背景
 - 紧跟v3.5，为高大上再悄悄迈一步；
 - 增加app.php接口，充分体现系统的扩展性能！

* 基本信息：
 - 发布日期：2017.03.11~(2017-03-18)
 - 体重：3.43 MB


## 更新事项

* 增加：app.php - 专用接口 ：
 - 为app/api提供服务器端支持
 - 包含：与第三方数据同步接口

* 增加：`字段内容存文件`
 - 使用见：问答系统，为高大上系统，悄悄地又做一铺垫！
* 增加：多库调用配置
 - 使用见：root/cfgs/boot/cfg_db.php-cdemo 说明
* 增加：前端js插件：prettyPhoto图片播放插件，
 - 使用见：/ximps/vendui/prettyPhoto/demo.html
* 增加：前端js模版引擎：doT，
 - 使用见：/ximps/vendui/common/doT.demo.html
* 增加：前端js插件：swiper滑动插件, 

* 修正：
 - 把整个系统，放置在虚拟目录下，检测目录可能出问题；
 - PHP v7.1下 几处兼容性
 - 一处字符过滤安全bug
 - 分享DIY - 默认连接错误

* 完善：
 - 中英文文档
 - 问答系统（资料）


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；


#v3.5# (2017.02)


## 更新背景

* 原背景
 - v3.4确定的：尽量向v3.4兼容；
   v3.5兼容v3.4，可直接在v3.4上升级到v3.5
 - v3.4确定的：三个拟发展方向：Sqlite+免安装, 增加Sphinx检索, 用TP3.2重构系统   
   　v3.5实现了：Ftp存储，Sphinx检索，（为高大上迈出坚实的第一步）  
   　v3.4, v3.5 整个核心系统趋向稳定！
 - 2017春节进行时…
   感恩中国大春节，孕育v3.5！

* 基本信息：
 - (预)发布日期：2017.02.11~(2017-02-18)
 - 体重：3.42 MB


## 更新事项

* 增加：
 - 增加：Hook钩子函数(类), 用于扩展 
 - 增加：前台-手动推送资料
 - 增加：附件Ftp存储, 同时与后期云存储打下基础
 - 增加：Sphinx检索, 应对海量数据

* 更新/增强：
 - 开通QQ群: 607070548 
 - thumb 优化, 支持ftp存储 
 - 完善文档（参数设置部分）
 - 为广告位添加 `[广告]`标识   
 - 增强：优化增强-批量静态生成

* 修正/优化：
 - 修正：一些(英文版)翻译
 - 修正：v3.4中: 数据导入/采集 出现的sql错误。
 - 优化：静态文件url目录（默认把html目录移动到跟目录）
 - 演示站：生成静态 演示 about/cargo/company 模块


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；

* 方式2. 自带升级程序升级 (建议)
 - 因 v3.5兼容v3.4，建议用此方式升级


## v3.6预告

* 增加：api/app.php - 专用接口 ：为app,api提供服务器端支持
* 看情况：对 图文混排 - 做个演示模块；
* 看情况：征集/开发 一些应用模块；


## 贴心猫 与 它们

* 模板继承
 - 看过 laravel / symfony 的模板继承；所以 贴心猫于[2015-05]已实现；

* 助手函数/别名函数 [2016-10]
 - 用了 symfony 的 dump 等助手函数，我也上来一批别名函数，
   见：/core/blib/helper.php

* tp3x 上传，支持：本地 / ftp / 云存储 （这点算是很优秀了）
 - 本系统支持：Ftp上传，已于v3.5实现（已设想很久）
 - 云存储，只需要增加相应接口即可

* 看过Dede有 Sphinx检索；最近我也加上了；
 - 已设想很久，已于v3.5实现

* 看过 symfony 的命令行工具，
 - 我就在 起始页添加了：build 等工具
 - 我的可不是命令行，是个网页哦！
 - 工具页还有：数据库管理. 辅助计划任务运行rplan.php等工具哦！

* 支持PHP5.2 ~ PHP7.X
 - php7 不再支持eval，我于去年就去掉了全站的eval，用其他方法实现；
 - 本系统是支持：PHP5.2 ~ PHP7.X全系列的哦！
 - `不再支持eval`？能用！只是很多场景不建议使用!!![2017-05-17]

* 我到处借鉴：
 - 我到处借鉴！
 - 但是：贴心猫 的 简约、轻量、实用、免费、共享 不会改变！
 - 尊重版权，共享技术，努力打造安全高效和谐的web应用系统！也不会改变哦！


#v3.4# (2016.12)


## 更新背景

* 原计划
 - 继续支持PHP5.2~PHP7.X
 - 继续完善英文版语言包
 - 增加：公共自由参数设置
 - 增加：可独立安装的模块（视情况）
 - 后续发布，尽量向v3.4兼容.

* 基本信息：
 - 发布日期：2016.12.25/(2016-12-25)
 - 体重：3.35 MB


## 更新事项

* 增加：
 - 增加：公共自由参数设置
 - 增加: phpQuery/Snoopy 采集工具
 - 增加: bootstrap CSS框架
 - 增加: digg 扩展（商品展销-点赞,其他应用自行扩展)
 - 增加: 多域名跳转到主域名(配置)
 - 增加: 分站跳转(配置解决方案)
 - 增加: 投票系统
 - 增加: 按等级,栏目:对应的内容,设置不同模板
```
cfgs:
tplname=c_mod/mem_detail
tplnamenews=c_mod/mem_ulst）
```

* 更新/增强：
 - 更新layer组件 (更新至:3.0.1)
 - 更新编辑器 KindEditor 4.1.11 (更新至:2016-05-26)
 - 更新邮件组件 PHPMailer (更新至:5.2.16@2016)
 - 更换(imcat)图标
 - 增强日志功能
 - Run-SQL 后台直接运行SQL

* 修正/优化：
 - 修复: js显示点击等字段的安全漏洞
 - 优化: css,js加载项
 - 合并tpls/views目录，并移出与code,root目录并列
 - 修正: 某些情况下错误提示信息不准确并作优化
 - 导出模块/菜单 Export



## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；

* 方式2. 自带升级程序升级 (不建议)
 - 因为调整了views/tpls目录，不要使用这种方式。


## 发展方向

* 贴心猫的发展，目前面临三个方向
 - Sqlite+免安装 : 可大大降低使用门槛，但操作数据库的地方，还需要较大改造。
 - 增加Sphinx检索，综合部署：ftp存储，云存储 : 向高大上出发的第一步，但需要时间比较多……  
 - 用TP3.2重构系统 : 且不再支持php5.2，所花时间也是非常多！(可能是另起新项目)

* 需要您的意见
 - 请伸出援助之手，点几下鼠标……
 - <a href="{svrtxmao}/mob.php?votes" target="_1">[贴心猫]后续改进方向投票</a>


#v3.3# (2016.09)


## 更新背景

* 原计划
 - 增加：复制产品数据 和 复制方案资料
 - 加强移动端
 - 视情况增加：问卷/投票
 - 最后一个支持php5.2版本

* 基本信息：
 - 发布日期：2016.0917/(2016-09-17)
 - 体重：3.30 MB

* 意外发布：
 - 本次发布，有点`意外`
 - 演示站免费的主机空间，显示[Server unavailable] 迫使我 吧演示站转移到了baidu云……
 - 一系列的效应，发布了V3.3，感谢变化，适应变化！


## 更新事项

* v3.3.1更新日志：(2016-10-01)
 - 完善：英语版文档
 - 修正：v3.3几处细小bug和js兼容

* 增加：
 - 增加：(复制)产品数据
 - 增加：复制[数据工具]方案
 - 增加：公文 手机版显示
 - 增加：rplan.php + 外部计划任务工具
 - 增加：安装程序/后台 的英文版（可切换）
 - 增加：git部署，公开源代码
 - 增加：部署英文版，增加英文语言包（少部分文件还需要完善）

* 微信：                                           
 - 增加：会员中心 微信绑定/解绑
 - 增加：公文通知-发到微信/邮箱/短信
 - 增加：扫码找回密码 

* 修正/优化：
 - 完善：找回密码
 - 完善：留言回复
 - 完善：发布权限配置
 - 贴心猫 演示主机空间乔迁至 百度云！
 - 问答系统 用于本系统的 技术交流！


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；

* 方式2. 自带升级程序升级 (建议)
 - 因为添加了英语语言包，不要使用这种方式。

* 通用指引

 - 安装目录：目录名为字母数字下划线组成，不要有汉字，空格和特殊字符
 - 安装后 更新缓存：后台 >> 工具 >> 系统工具 >> 系统缓存 >> 系统缓存：更新清理 >> 提交 
 - 通用说明见：<a href="?uplog">通用更新说明</a> : 
 - 注意：升级前准备 &gt; 覆盖升级文件 


## 多语言说明

* 概念多语言
 - v3.2中，只是概念上，部署了多语言；
 - 其实全部是简体中文，没有实际的多语言包；

* 面向世界需求
 - v3.3中，因为部署到git上去，感觉仅中文版影响国际化，所以增加英文语言包；
 - 一方面，一个完整的英文版展示对非中文语系的用户来说是那么迫切需求；
 - 另一方面，增加多语言包费时费力，系统臃肿复杂了很多，有悖于系统`简单/轻量`的理念；
 - 一边担心着，又一边鼓励自己(同时向往着)，做下去……

* 初期目标：
 - 后台/会员中心/安装程序：可中英文切换；
 - 原前台：home.php, dev.php, mob.php 展示页，用原来的中文，分别展示功能，中文文档，移动展示；
 - 增加：doc.php，用作英文文档；
 - 数据资料，随安装时，选的语言决定，中文或英文；安装后不能`转化`

* 请提供翻译帮助：
 - 目前英文语言包，一些资料翻译不彻底，或不是很恰当，需要继续完善；
 - 如果您方便，您可以：提供翻译帮助，见：捐赠贡献 >> 翻译说明；
 - 如果你知晓其他语言，您也可以：也可提供更多其他语言包，先感谢您！


#v3.2# (2016.06)


## 更新预告

* 预告
 - 预计增加问答系统，完善内部公文；年中择机发布。

* 基本信息：
 - 发布日期：2016.0625/（2016-06-25）
 - 体重：3.5MB


## 更新事项

* 增加：
 - 增加：问答系统（借鉴模仿：Powered by Question2Answer）
 - 增加：（内部公文）会员中心发布，查看
 - 增加：贴心工具；提供开发者便利，同时演示功能；
 - 增加：跨模版包含和多模版公用公共区块
 - 增加：多语言部署
 - 增加：本地调试工具（可单独运行）/ 模板套件工具（本地使用，创建整套模板）
 - 增加：计划任务本地辅助程序（定时执行工具）
 
* 修正/优化：
 - 改进：通过【PHP7.0.7】测试 （是否要放弃：【PHP5.2.x】兼容？）
 - 改进：模板包含编译逻辑
 - 精简：不减功能情况下，再次优化减肥（.rar文件3.5M左右）；
 - 优化：SEO优化title；
 - 规范/优化：多处细节；
 - 迁移：svn版本库迁移：之前为新浪SAE，迁移到 [AppCan](http://newsso.appcan.cn/login?)；


## 更新指引

* 方式1. 安装新系统，导入旧数据 (建议)
 - 先安装新系统，再导入旧数据；

* 方式2. 自带升级程序升级
 - 先手动更新：\code\core\sdev\下 updAdmin.php, updBase.php 两文件；
 - 先手动更新：/root/tools/setup下文件 (除index.php安装入口)；
 - 必要的话：先按新系統手动调整root/cfgs/boot/cfg_load.php配置；

* 通用指引

 - 安装目录：目录名为字母数字下划线组成，不要有汉字，空格和特殊字符
 - 安装后 更新缓存：后台 >> 工具 >> 系统工具 >> 系统缓存 >> 系统缓存：更新清理 >> 提交 
 - 通用说明见：<a href="?uplog">通用更新说明</a> : 
 - 注意：升级前准备 &gt; 覆盖升级文件 


## 转载说明

* 精简说明
 - v3.0, v3.1, v3.2 一直在完善增加功能，但一直在精简！
 - 因为精简(但不减功能)，体积：v3.2 < v3.1 < v3.0（.rar文件分别为：3.5M，3.9M，4.6M）；
 - 后续发布版本，一般不会过分精简了，随着功能的增加与完善，一般体积会有所增长；

* 转载说明
 - 一些第三方自动收录下载地址，很多更新较慢，或者只改版本号文字，实际下载内容没有更新！
 - 郑重申明：只有`chinaz.站长下载`为开发者主动提交更新，其他站点下载，都为自动收录；
 - 欢迎收录，但请注意更新，鄙视欺骗性更新（只改版本号的文字但实际下载内容没有更新）；
 - 请用户注意甄别！


#v3.1# (2016.04)


## 更新预告（已发布）

* 背景：
 - 3.0发布后遇到寒冬和中国年，期间进化缓慢。

* 预告
 - 预计增加计划任务，更新程序，数据分享同步采集；年后择机发布。

* 基本信息：
 - 发布日期：2016.0410/2016-04-0410
 - 体重：4.9MB


## 更新事项

* 修正/优化：
 - 修正：PHP5.2低版本（&lt;php5.2.10）系列下的几个小bug；
 - 优化：安装细节；
 - 修正/优化：多处细节；
 - 更新：改模版后缀:tpl.htm
 
* 增加：
 - 增加：静态部署
 - 增加：标签缓存
 - 增加：更新程序
 - 增加：计划任务
 - 增加：积分基础（后续按需求扩充应用）
 - 增加：数据分享
 - 增加：数据同步
 - 增加：数据导入
 - 增加：数据采集
 - 增加：SEO优化推送
 

## 更新指引

* v3.0升级指引
 - 建议：安装新系统，再导入旧数据。

* 通用指引

 - 见：<a href="?uplog">通用更新说明</a> : 
 - 注意：升级前准备 &gt; 覆盖升级文件 


#v3.0# (2016.01)


## 发布概况

* 基本信息：
 - 发布日期：2015.1225/2016-01-08
 - 发布地点：http://down.chinaz.com/soft/37712.htm
 - 体重：4.64MB
 - 姓名：贴心猫(Intimate)
 - 血统：PHP5.2~PHP7.0 + Mysql5.x+
 - 展示模板：电脑版/手机版/演示版/管理后台/会员中心

* 功能模块：
 - 文档/资讯 : 样例文档
 - 文档/资讯 : 新闻动态 (含评论)
 - 文档/资讯 : 专题新闻 (含评论)
 - 文档/资讯 : 课程资源 (含评论)
 - 文档/资讯 : 商品展销 (含订单评论)
 - 用户/会员 : 企业会员
 - 用户/会员 : 政府机构
 - 用户/会员 : 非盈利组织
 - 互动/评论 : 留言问答
 - 接口 : 短信/支付/邮件/微信
 - 广告 : 文字/图片/文本块

* 审核6次
 - 1. 无法看懂相关安装步骤，请用一键安装环境如phpstudy等环境的安装步骤进行填写
 - 2. setup安装，出现Notice错误和致命错误
 - 3. 修改完相关配置后，点击安装界面的开始按钮，无反应。测试环境phpstudy中的php5.4版本
 - 4. 打开安装程序setup文件后，提示：“…请设置路径：define('RUN_INIT', ''); …”
 - 5. 在Firefox中，前台和后台的登录验证码均无法正常显示。
 - 6. 发布了。


## 发布后记录

* 疯狂转载
 - 包含但不限于以下地址
 - [admin5.A5源码 ] http://down.admin5.com/php/130751.html
 - [jb51.脚本之家] http://www.jb51.net/codes/418214.html
 - http://www.gpxz.com/yuanma/php/jianzhan/936693.html?fromapp
 - http://www.asp300.com/SoftView/11/SoftView_59628.html
 - http://down.easck.com/php/25366-1.html
 - http://www.0775code.com/soft/html/33094.html
 - http://www.aspku.com/php/87295.html


## 回忆录和v2.x

* 其实无 v2.x
 - v2.x是我的ASP系统
 - v3.0，沿用了一些v2.0（ASP系统）的 理念/思想

* 其实我病了
 - 审核发布后……其实我病了：感觉是小病，但也感觉并不轻……
 - 审核发布了，其实也不过如此！我感觉到持续更新才是生命力！
 - 我想起了一些事……，我倒想整理一点文字的东西……
 - 当然：[这些事]是属于我个人的事情，我还是转到我QQ空间，私密起来！
 - 继续规划下次更新！(2016-01-17 19:50)
 
* 回忆录
 - 已转移到qq（私密）空间

